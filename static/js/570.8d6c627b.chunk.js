"use strict";(self.webpackChunkdisc_11=self.webpackChunkdisc_11||[]).push([[570],{570:function(t,e,n){n.r(e);var i=n(982),s=n(671),r=n(144),a=n(326),o=n(340),c=n(505),l=(n(174),n(791)),d=n(276),h=n(905),u=n(580),m=n(961),x=n(294),v=n(184),f=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(){var t;return(0,s.Z)(this,n),(t=e.call(this,{})).view=void 0,t.state={text:"",incremental:0,items:[],notices:[]},t.onChange=t.onChange.bind((0,a.Z)(t)),t.onSubmit=t.onSubmit.bind((0,a.Z)(t)),t.onKeyDown=t.onKeyDown.bind((0,a.Z)(t)),t}return(0,r.Z)(n,[{key:"generateScript",value:function(t){return"function trigger() {\n    var url = [\n".concat(t.map((function(t){return'        "'.concat(t,'"')})).join(",\n"),"\n    ];\n    for (var x = 0; x < url.length; x++) {\n        var uri = url[x];\n        try {\n            UrlFetchApp.fetch(uri);\n        } catch (err) {\n            Logger.log(err.message);\n        }\n    }\n}")}},{key:"componentDidMount",value:function(){this.view=new x.tk({parent:document.getElementById("code"),state:u.yy.create({doc:this.generateScript([]),extensions:[(0,d.eJ)(),u.yy.readOnly.of(!0),h.vk]})})}},{key:"onChange",value:function(t){this.setState({items:this.state.items,text:t.target.value,notices:this.state.notices})}},{key:"onSubmit",value:function(){var t;if(""!==this.state.text){var e=this.state.incremental+1;try{new URL(this.state.text)}catch(s){return void this.setState({incremental:e,items:this.state.items,text:this.state.text,notices:[].concat((0,i.Z)(this.state.notices),[{text:"Invalid URL",id:"notice-".concat(e),show:!0}])})}var n=this.state.items.concat([this.state.text]);null===(t=this.view)||void 0===t||t.dispatch({changes:{from:0,to:this.view.state.doc.length,insert:this.generateScript(n)},scrollIntoView:!1}),this.setState({incremental:this.state.incremental,items:n,text:"",notices:this.state.notices})}}},{key:"onKeyDown",value:function(t){"Enter"===t.code&&this.onSubmit()}},{key:"render",value:function(){var t=this;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"absolute flex w-full",children:(0,v.jsx)("div",{className:"block w-full m-3 max-w-xs",children:this.state.notices.slice(0,2).map((function(e){return(0,v.jsx)(m.u,{appear:!0,show:e.show,enter:"transition duration-200",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"delay-5000 duration-200 ease-in-out",leaveFrom:"opacity-100",leaveTo:"opacity-0",afterEnter:function(){t.setState({incremental:t.state.incremental,items:t.state.items,text:t.state.text,notices:(0,i.Z)(t.state.notices.map((function(t){return t.id!==e.id?t:{text:t.text,id:t.id,show:!1}})))})},afterLeave:function(){t.setState({items:t.state.items,text:t.state.text,notices:t.state.notices.filter((function(t){return t.id!==e.id}))})},children:(0,v.jsx)("div",{className:"w-full m-3 bg-red-300 border border-red-400 rounded-lg",children:(0,v.jsx)("p",{className:"m-2",children:e.text})})},e.id)}))})}),(0,v.jsx)("div",{className:"flex items-center justify-center h-screen dark:bg-gray-900",children:(0,v.jsxs)("div",{className:"grid grid-cols-1 grid-rows-2",children:[(0,v.jsxs)("div",{className:"m-20",children:[(0,v.jsx)("p",{className:"text-base md:text-xl font-bold dark:text-white",children:"Script Generator"}),(0,v.jsx)("br",{}),(0,v.jsx)("input",{id:"url-textbox",onKeyDown:this.onKeyDown,onChange:this.onChange,value:this.state.text,placeholder:"Put the URL here",className:"focus:outline-none border border-black rounded-md dark:border-transparent"}),(0,v.jsx)("br",{}),(0,v.jsx)("button",{className:"p-2 mt-2 transition-colors border rounded border-black hover:bg-black hover:text-white dark:text-white dark:border-white dark:hover:bg-white dark:hover:text-black",onClick:this.onSubmit,children:"Add URL"})]}),(0,v.jsx)("div",{id:"code",className:"text-sm"})]})})]})}}]),n}(l.Component);e.default=f}}]);
//# sourceMappingURL=570.8d6c627b.chunk.js.map