{"version":3,"file":"static/js/570.8d6c627b.chunk.js","mappings":"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","sources":["script.tsx"],"sourcesContent":["import \"./index.css\";\nimport { Component, ChangeEvent, KeyboardEvent } from \"react\";\nimport { javascript } from \"@codemirror/lang-javascript\";\nimport { oneDark } from \"@codemirror/theme-one-dark\";\nimport { EditorState } from \"@codemirror/state\";\nimport { Transition } from \"@headlessui/react\";\nimport { EditorView } from \"@codemirror/view\";\n\nclass Script extends Component<Record<string, never>, { text: string; incremental: number; items: string[]; notices: { text: string; id: string; show: boolean }[] }> {\n    private view?: EditorView;\n\n    public constructor() {\n        super({});\n\n        this.state = {\n            text: \"\",\n            incremental: 0,\n            items: [],\n            notices: []\n        };\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onKeyDown = this.onKeyDown.bind(this);\n    }\n\n    public generateScript(items: string[]): string {\n        return `function trigger() {\n    var url = [\n${items.map(x => `        \"${x}\"`).join(\",\\n\")}\n    ];\n    for (var x = 0; x < url.length; x++) {\n        var uri = url[x];\n        try {\n            UrlFetchApp.fetch(uri);\n        } catch (err) {\n            Logger.log(err.message);\n        }\n    }\n}`;\n    }\n\n    public componentDidMount(): void {\n        this.view = new EditorView({\n            parent: document.getElementById(\"code\")!,\n            state: EditorState.create({\n                doc: this.generateScript([]),\n                extensions: [\n                    javascript(),\n                    EditorState.readOnly.of(true),\n                    oneDark\n                ]\n            })\n        });\n    }\n\n    public onChange(data: ChangeEvent<HTMLInputElement>): void {\n        this.setState({\n            items: this.state.items,\n            text: data.target.value,\n            notices: this.state.notices\n        });\n    }\n\n    public onSubmit(): void {\n        if (this.state.text === \"\") return;\n\n        const num = this.state.incremental + 1;\n        try {\n            new URL(this.state.text);\n        } catch (err) {\n            this.setState({\n                incremental: num,\n                items: this.state.items,\n                text: this.state.text,\n                notices: [\n                    ...this.state.notices,\n                    {\n                        text: \"Invalid URL\",\n                        id: `notice-${num}`,\n                        show: true\n                    }\n                ]\n            });\n            return;\n        }\n\n        const toAdd = this.state.items.concat([this.state.text]);\n\n        this.view?.dispatch({\n            changes: {\n                from: 0,\n                to: this.view.state.doc.length,\n                insert: this.generateScript(toAdd)\n            },\n            scrollIntoView: false\n        });\n\n        this.setState({\n            incremental: this.state.incremental,\n            items: toAdd,\n            text: \"\",\n            notices: this.state.notices\n        });\n    }\n\n    public onKeyDown(data: KeyboardEvent<HTMLInputElement>): void {\n        if (data.code === \"Enter\") {\n            this.onSubmit();\n        }\n    }\n\n    public render(): JSX.Element {\n        return (\n            <>\n                <div className=\"absolute flex w-full\">\n                    <div className=\"block w-full m-3 max-w-xs\">\n                        {this.state.notices.slice(0, 2).map(x => (\n                            <Transition\n                                key={x.id}\n                                appear={true}\n                                show={x.show}\n                                enter=\"transition duration-200\"\n                                enterFrom=\"opacity-0\"\n                                enterTo=\"opacity-100\"\n                                leave=\"delay-5000 duration-200 ease-in-out\"\n                                leaveFrom=\"opacity-100\"\n                                leaveTo=\"opacity-0\"\n                                afterEnter={() => {\n                                    this.setState({\n                                        incremental: this.state.incremental,\n                                        items: this.state.items,\n                                        text: this.state.text,\n                                        notices: [...this.state.notices.map(y => {\n                                            if (y.id !== x.id) return y;\n\n                                            return {\n                                                text: y.text,\n                                                id: y.id,\n                                                show: false\n                                            };\n                                        })]\n                                    });\n                                }}\n                                afterLeave={() => {\n                                    this.setState({\n                                        items: this.state.items,\n                                        text: this.state.text,\n                                        notices: this.state.notices.filter(y => y.id !== x.id)\n                                    });\n                                }}>\n                                <div className=\"w-full m-3 bg-red-300 border border-red-400 rounded-lg\">\n                                    <p className=\"m-2\">{x.text}</p>\n                                </div>\n                            </Transition>\n                        ))}\n                    </div>\n                </div>\n                <div className=\"flex items-center justify-center h-screen dark:bg-gray-900\">\n                    <div className=\"grid grid-cols-1 grid-rows-2\">\n                        <div className=\"m-20\">\n                            <p className=\"text-base md:text-xl font-bold dark:text-white\">Script Generator</p>\n                            <br />\n                            <input id=\"url-textbox\" onKeyDown={this.onKeyDown} onChange={this.onChange} value={this.state.text}\n                                placeholder=\"Put the URL here\" className=\"focus:outline-none border border-black rounded-md dark:border-transparent\" />\n                            <br />\n                            <button\n                                className=\"p-2 mt-2 transition-colors border rounded border-black hover:bg-black hover:text-white dark:text-white dark:border-white dark:hover:bg-white dark:hover:text-black\"\n                                onClick={this.onSubmit}>\n                                Add URL\n                            </button>\n                        </div>\n                        <div id=\"code\" className=\"text-sm\"></div>\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\n\nexport default Script;\n"],"names":["Script","view","state","text","incremental","items","notices","onChange","bind","onSubmit","onKeyDown","map","x","join","this","EditorView","parent","document","getElementById","EditorState","doc","generateScript","extensions","javascript","oneDark","data","setState","target","value","num","URL","err","id","show","toAdd","concat","dispatch","changes","from","to","length","insert","scrollIntoView","code","className","slice","appear","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","afterEnter","y","afterLeave","filter","placeholder","onClick","Component"],"sourceRoot":""}